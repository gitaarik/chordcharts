<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <title>Chord Charts</title>
        <base href="{{ settings.STATIC_URL }}">
        <link type="text/css" rel="stylesheet" href="css/core/core.css" />
        {% block css %}{% endblock %}
    </head>

    <body>

        <header class="_base-header">

            <div class="header-container">

                <div class="content">

                    <h1>
                        <a href="{{ url('core:frontpage') }}">{{ settings.WEBSITE_NAME }}</a>
                    </h1>

                    <div class="search auto-complete">

                        <div class="input-container">
                            <input type="text" class="before-input">
                            <input type="text" class="input _text-input" placeholder="Search charts" autocomplete="off">
                            <input type="text" class="behind-input">
                        </div>

                        <div class="submit-button-container">
                            <button type="submit" class="fa fa-search _button" value="Search"></button>
                        </div>

                        <ul class="results"></ul>

                    </div>

                    <nav>

                        <div class="nav-item all-charts">
                            <a class="text" href="{{ url('search') }}">all charts</a>
                        </div>

                        {% if request.user.is_authenticated() %}

                            <div class="nav-item new-chart">
                                <a class="text" href="{{ url('chordcharts:new_chart') }}">create chart</a>
                            </div>

                        {% endif %}

                        <div class="nav-item help _popup-box-opener">

                            <span class="text">help</span>

                            <div class="nav-item-popup _popup-box">

                                <div class="_arrow-up"></div>

                                <div class="sub-buttons">

                                    <div class="sub-button delete">
                                        <a href="{{ url('chordcharts:how_to_read') }}">How to read</a>
                                    </div>

                                    <div class="sub-button delete">
                                        <a href="{{ url('chordcharts:chord_symbols') }}">Chord symbols</a>
                                    </div>

                                </div>

                            </div>

                        </div>

                        {% if request.user.is_authenticated() %}

                            <div class="nav-item user _popup-box-opener">

                                <span class="text">
                                    <span class="fa fa-user"></span>
                                    {{ request.user.username }}
                                </span>

                                <div class="nav-item-popup _popup-box">

                                    <div class="_arrow-up"></div>

                                    <div class="sub-buttons">

                                        <div class="sub-button delete">
                                            <a href="{{ url('search') }}?user={{ request.user.username }}">My charts</a>
                                        </div>

                                        <div class="sub-button delete">
                                            <a href="{{ url('users:home') }}">My account</a>
                                        </div>

                                        <div class="sub-button delete">
                                            <a href="{{ url('users:logout') }}">Sign out</a>
                                        </div>

                                    </div>

                                </div>

                            </div>

                        {% else %}

                            <div class="nav-item login">
                                <a class="text" href="{{ url('users:login') }}">log in</a>
                            </div>

                            <div class="nav-item signup">
                                <a class="text" href="{{ url('users:signup:signup') }}">sign up</a>
                            </div>

                        {% endif %}

                    </nav>

                </div>

            </div>

        </header>

        <main class="_base-content">
            {% block content %}{% endblock %} 
            <div class="_clearfix"></div>
        </main>

        <footer class="_base-footer _site-content">

            <div class="site-name">{{ settings.WEBSITE_NAME_DOMAIN }}</div>

            <nav>
                <a href="{{ url('core:about:about') }}">About</a>
                <a href="{{ url('core:contact') }}">Contact / Feedback</a>
                <a href="https://www.github.com/gitaarik/jazzchords/" target="_blank">GitHub</a>
            </nav>

        </footer>

        <script src="js/core/core.js"></script>
        {% block javascript %}{% endblock %}

    </body>

</html>
